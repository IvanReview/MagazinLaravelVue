(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{11:function(t,e,r){"use strict";var a={name:"Loader"},s=(r(184),r(0)),n=Object(s.a)(a,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader"},[e("div",{staticClass:"preloader-wrapper big active"},[e("div",{staticClass:"spinner-layer spinner-yellow-only"},[e("div",{staticClass:"circle-clipper left"},[e("div",{staticClass:"circle"})]),e("div",{staticClass:"gap-patch"},[e("div",{staticClass:"circle"})]),this._v(" "),e("div",{staticClass:"circle-clipper right"},[e("div",{staticClass:"circle"})])])])])}],!1,null,"367f3d41",null);e.a=n.exports},184:function(t,e,r){"use strict";var a=r(38);r.n(a).a},185:function(t,e,r){(t.exports=r(5)(!1)).push([t.i,".loader[data-v-367f3d41]{margin-top:40px;text-align:center}",""])},220:function(t,e,r){"use strict";var a=r(56);r.n(a).a},221:function(t,e,r){(t.exports=r(5)(!1)).push([t.i,".btn-success[data-v-4077c215]{margin-bottom:40px}",""])},222:function(t,e,r){"use strict";var a=r(57);r.n(a).a},223:function(t,e,r){(t.exports=r(5)(!1)).push([t.i,".main-content[data-v-009c40bd]{padding:0 40px}.row .col[data-v-009c40bd]{padding:0}.category-create__text[data-v-009c40bd]{font-size:25px}.row[data-v-009c40bd]{margin-bottom:0}.admin-table tr[data-v-009c40bd]{border-bottom:1px solid rgba(0,0,0,.12)!important}.admin-table[data-v-009c40bd],.admin-table tr[data-v-009c40bd]{background-color:#fff}.pagination-order[data-v-009c40bd]{margin-top:40px}.pagination .active[data-v-009c40bd]{background-color:#e91e63!important}.main-content[data-v-009c40bd],section[data-v-009c40bd]{position:relative;height:100vh}.pagination-order[data-v-009c40bd]{position:absolute;bottom:0}.order-admin[data-v-009c40bd]{font-size:30px;font-weight:800;text-align:center}",""])},256:function(t,e,r){"use strict";r.r(e);var a={name:"ModalLookOrder",props:{order:{},productsInOrder:{},total_sum:0},data:function(){return{modalInstanceOrder:null}},computed:{},methods:{executeOrder:function(){this.$emit("executeOrder",this.order)}},mounted:function(){this.modalInstanceOrder=window.M.Modal.init(this.$refs.modalOrder)}},s=(r(220),r(0)),n=Object(s.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"modalOrder",staticClass:"modal modal-fixed-footer",attrs:{id:"modal1"}},[r("div",{staticClass:"modal-content"},[r("h5",[t._v("Данные заказа")]),t._v(" "),r("hr"),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.executeOrder(e)}}},[r("div",{staticClass:"panel"},[r("h4",[t._v("Заказ №"+t._s(t.order.id))]),t._v(" "),r("p",[r("b",[t._v("Имя:")]),t._v(" "+t._s(t.order.name))]),t._v(" "),r("p",[r("b",[t._v("Фамилия:")]),t._v(" "+t._s(t.order.surname))]),t._v(" "),r("p",[r("b",[t._v("Номер телефона:")]),t._v(" "+t._s(t.order.phone))]),t._v(" "),r("p",[r("b",[t._v("Email:")]),t._v(" "+t._s(t.order.email))]),t._v(" "),r("p",[r("b",[t._v("Адрес:")]),t._v(" "+t._s(t.order.address))]),t._v(" "),r("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),r("tbody",[t._l(t.productsInOrder,(function(e,a){return r("tr",{key:a},[r("td",[r("router-link",{attrs:{to:"/product"}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])],1),t._v(" "),r("td",[r("img",{attrs:{height:"56px",src:"/storage/"+e.image}})]),t._v(" "),r("td",[r("span",{staticClass:"badge"},[t._v(t._s(e.pivot.quantity))])]),t._v(" "),r("td",[t._v(" "+t._s(t._f("currencyFilter")(e.price)))]),t._v(" "),r("td",[t._v(" "+t._s(t._f("currencyFilter")(e.pivot.quantity*e.price)))])])})),t._v(" "),r("tr",[t._m(1),t._v(" "),r("td",[r("strong",[t._v(" "+t._s(t._f("currencyFilter")(t.total_sum)))])])])],2)]),t._v(" "),r("br"),t._v(" "),t._m(2)])])]),t._v(" "),r("div",{staticClass:"modal-footer"},[r("a",{staticClass:"modal-close btn-flat pink darken-1 white-text",attrs:{href:""},on:{click:function(t){t.preventDefault()}}},[r("i",{staticClass:"material-icons right"},[t._v("close")]),t._v("Закрыть\n        ")])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Название")]),t._v(" "),r("th",[t._v("Изображение")]),t._v(" "),r("th",[t._v("Кол-во")]),t._v(" "),r("th",[t._v("Цена")]),t._v(" "),r("th",[t._v("Общая стоимость")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{colspan:"4"}},[e("b",[this._v("Общая сумма:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn-success btn",attrs:{type:"submit"}},[e("span",{staticClass:"fa fa-check"}),this._v("\n            Перевести в выполнено\n          ")])}],!1,null,"4077c215",null).exports,i=r(1);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={name:"Orders",components:{Loader:r(11).a,ModalLookOrder:n},data:function(){return{order_data:{},product_in_order:[],loader:!0}},computed:c(c({},Object(i.c)(["getOrders","getFullSum","getOrderConfirmErrors","getPaginateOrder"])),{},{totalSumInOrder:function(){var t=0;return this.product_in_order.forEach((function(e){t+=e.price*e.pivot.quantity})),t}}),methods:c(c({},Object(i.b)(["totalSumInCart","orderSend","loadOrders","changeOrder","deleteOrderFromBd"])),{},{openOrder:function(t){this.order_data=t,this.product_in_order=t.products},changeOrderStatus:function(t){var e=this;this.changeOrder(t).then((function(t){e.$toasted.show("Заказ выпонен!",{type:"success"})}))},deleteOrder:function(){confirm("Точно???")&&this.deleteOrderFromBd()}}),mounted:function(){var t=this;this.loadOrders().then((function(e){e&&(t.loader=!1)}))}},v=(r(222),Object(s.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-content"},[t._m(0),t._v(" "),r("section",[r("div",{staticClass:"row"},[t._m(1),t._v(" "),t.loader?r("loader"):t.getOrders.length?r("div",{staticClass:"table"},[r("table",{staticClass:"striped centered responsive-table admin-table"},[r("thead",[r("tr",[r("th",[t._v("ID")]),t._v(" "),r("th",[t._v("Имя")]),t._v(" "),r("th",[t._v("Телефон")]),t._v(" "),r("th",[t._v("Время создания")]),t._v(" "),r("th",[t._v("Статус")]),t._v(" "),r("th",[t._v("Действие")])])]),t._v(" "),r("tbody",t._l(t.getOrders,(function(e,a){return r("tr",[r("td",[t._v(t._s(e.id))]),t._v(" "),r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",[t._v(t._s(e.phone))]),t._v(" "),r("td",[t._v(t._s(t._f("dateFilter")(e.created_at)))]),t._v(" "),r("td",[t._v(t._s(e.status))]),t._v(" "),r("td",[r("a",{staticClass:"btn waves-effect waves-light light-blue accent-3 modal-trigger",attrs:{href:"#modal1",type:"submit"},on:{click:function(r){return t.openOrder(e)}}},[r("i",{staticClass:"material-icons"},[t._v("loupe")])]),t._v(" "),r("button",{staticClass:"btn waves-effect waves-light pink darken-1",attrs:{type:"submit"},on:{click:t.deleteOrder}},[r("i",{staticClass:"material-icons"},[t._v("delete")])])])])})),0)])]):r("p",{staticClass:"order-admin"},[t._v(" Заказы отсутствуют")])],1)]),t._v(" "),r("modal-look-order",{attrs:{order:t.order_data,"products-in-order":t.product_in_order,total_sum:t.totalSumInOrder},on:{executeOrder:t.changeOrderStatus}}),t._v(" "),r("div",{staticClass:"col s12 center-align pagination-order"},[r("ul",{staticClass:"pagination"},[r("li",{class:[{disabled:null===t.getPaginateOrder.prev_page_url}]},[r("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.loadOrders(t.getPaginateOrder.prev_page_url)}}},[r("i",{staticClass:"material-icons"},[t._v("chevron_left")])])]),t._v(" "),t._l(t.getPaginateOrder.pages,(function(e){return r("li",{class:[{active:t.getPaginateOrder.current_page===e.label}]},[r("a",{attrs:{href:""},on:{click:function(r){return r.preventDefault(),t.loadOrders(e.url)}}},[t._v(t._s(e.label))])])})),t._v(" "),r("li",{staticClass:"waves-effect",class:[{disabled:null===t.getPaginateOrder.next_page_url}]},[r("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.loadOrders(t.getPaginateOrder.next_page_url)}}},[r("i",{staticClass:"material-icons"},[t._v("chevron_right")])])])],2)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-title"},[e("h3",{staticClass:"center-align category"},[this._v("Заказы")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col s12 l12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col s6"},[e("p",{staticClass:"category-create__text"},[e("i",{staticClass:"material-icons "},[this._v("swap_vertical_circle")]),this._v(" Управление заказами\n                                    ")])])])])])])])}],!1,null,"009c40bd",null));e.default=v.exports},38:function(t,e,r){var a=r(185);"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(6)(a,s);a.locals&&(t.exports=a.locals)},56:function(t,e,r){var a=r(221);"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(6)(a,s);a.locals&&(t.exports=a.locals)},57:function(t,e,r){var a=r(223);"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(6)(a,s);a.locals&&(t.exports=a.locals)}}]);