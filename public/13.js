(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{11:function(t,e,r){"use strict";var s={name:"Loader"},a=(r(184),r(0)),n=Object(a.a)(s,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader"},[e("div",{staticClass:"preloader-wrapper big active"},[e("div",{staticClass:"spinner-layer spinner-yellow-only"},[e("div",{staticClass:"circle-clipper left"},[e("div",{staticClass:"circle"})]),e("div",{staticClass:"gap-patch"},[e("div",{staticClass:"circle"})]),this._v(" "),e("div",{staticClass:"circle-clipper right"},[e("div",{staticClass:"circle"})])])])])}],!1,null,"367f3d41",null);e.a=n.exports},184:function(t,e,r){"use strict";var s=r(38);r.n(s).a},185:function(t,e,r){(t.exports=r(5)(!1)).push([t.i,".loader[data-v-367f3d41]{margin-top:40px;text-align:center}",""])},259:function(t,e,r){"use strict";r.r(e);var s={name:"ModalViewOrder",props:{order:{},productsInOrder:{},total_sum:0}},a=r(0),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"modal",staticClass:"modal modal-fixed-footer",attrs:{id:"modal1"}},[r("div",{staticClass:"modal-content"},[r("h5",[t._v("Данные заказа")]),t._v(" "),r("hr"),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.executeOrder(e)}}},[r("div",{staticClass:"panel"},[r("h4",[t._v("Заказ №"+t._s(t.order.id))]),t._v(" "),r("p",[r("b",[t._v("Имя:")]),t._v(" "+t._s(t.order.name))]),t._v(" "),r("p",[r("b",[t._v("Фамилия:")]),t._v(" "+t._s(t.order.surname))]),t._v(" "),r("p",[r("b",[t._v("Номер телефона:")]),t._v(" "+t._s(t.order.phone))]),t._v(" "),r("p",[r("b",[t._v("Email:")]),t._v(" "+t._s(t.order.email))]),t._v(" "),r("p",[r("b",[t._v("Адрес:")]),t._v(" "+t._s(t.order.address))]),t._v(" "),r("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),r("tbody",[t._l(t.productsInOrder,(function(e,s){return r("tr",{key:s},[r("td",[r("router-link",{attrs:{to:"/product"}},[t._v("\n                                "+t._s(e.name)+"\n                            ")])],1),t._v(" "),r("td",[r("img",{attrs:{height:"56px",src:"/storage/"+e.image}})]),t._v(" "),r("td",[r("span",{staticClass:"badge"},[t._v(t._s(e.pivot.quantity))])]),t._v(" "),r("td",[t._v(" "+t._s(t._f("currencyFilter")(e.price)))]),t._v(" "),r("td",[t._v(" "+t._s(t._f("currencyFilter")(e.pivot.quantity*e.price)))])])})),t._v(" "),r("tr",[t._m(1),t._v(" "),r("td",[r("strong",[t._v(" "+t._s(t._f("currencyFilter")(t.total_sum)))])])])],2)]),t._v(" "),r("br")])])]),t._v(" "),r("div",{staticClass:"modal-footer"},[r("a",{staticClass:"modal-close btn-flat pink darken-1 white-text",attrs:{href:""},on:{click:function(t){t.preventDefault()}}},[r("i",{staticClass:"material-icons right"},[t._v("close")]),t._v("Закрыть\n        ")])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Название")]),t._v(" "),r("th",[t._v("Изображение")]),t._v(" "),r("th",[t._v("Кол-во")]),t._v(" "),r("th",[t._v("Цена")]),t._v(" "),r("th",[t._v("Общая стоимость")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{colspan:"4"}},[e("b",[this._v("Общая сумма:")])])}],!1,null,"97744724",null).exports,i=r(1),o=r(11);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v={name:"Orders",data:function(){return{loader:!0,orderShow:[],productsInOrder:[],orders:[],paginateOrdersUser:{url:"",lastPage:"",currentPage:""}}},computed:l(l({},Object(i.c)(["getOrders"])),{},{totalSumInOrder:function(){var t=0;return this.productsInOrder.forEach((function(e){t+=e.price*e.pivot.quantity})),t}}),methods:l(l({},Object(i.b)(["totalSumInCart","orderSend","loadOrders"])),{},{openOrder:function(t){this.orderShow=t,this.productsInOrder=t.products},loadOrdersForPerson:function(){var t=this,e=this.paginateOrdersUser.url||"/api/person/orders";axios({method:"GET",url:e,params:{}}).then((function(e){t.orders=t.orders.concat(e.data.data),t.paginateOrdersUser.url=e.data.next_page_url,t.paginateOrdersUser.lastPage=e.data.last_page,t.paginateOrdersUser.currentPage=e.data.current_page,t.loader=!1})).catch((function(t){console.log(t)}))},scroll:function(t){Math.ceil(document.documentElement.scrollTop)+window.innerHeight>=document.documentElement.scrollHeight-40&&this.paginateOrdersUser.currentPage<this.paginateOrdersUser.lastPage&&this.loadOrdersForPerson()}}),created:function(){this.loadOrdersForPerson();var t=_.debounce(this.scroll,400);window.addEventListener("scroll",t)},mounted:function(){var t=document.querySelectorAll(".modal");this.modalInstance=window.M.Modal.init(t)},components:{Loader:o.a,ModalViewOrder:n}},u=Object(a.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-content"},[t._m(0),t._v(" "),r("section",[r("div",{staticClass:"row"},[t._m(1),t._v(" "),t.loader?r("loader"):t.orders.length?r("div",{staticClass:"table"},[r("table",{staticClass:"striped centered responsive-table admin-table"},[r("thead",[r("tr",[r("th",[t._v("ID")]),t._v(" "),r("th",[t._v("Имя")]),t._v(" "),r("th",[t._v("Телефон")]),t._v(" "),r("th",[t._v("Время создания")]),t._v(" "),r("th",[t._v("Статус")]),t._v(" "),r("th",[t._v("Действие")])])]),t._v(" "),r("tbody",t._l(t.orders,(function(e){return r("tr",[r("td",[t._v(t._s(e.id))]),t._v(" "),r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",[t._v(t._s(e.phone))]),t._v(" "),r("td",[t._v(t._s(t._f("dateFilter")(e.created_at)))]),t._v(" "),r("td",[t._v(t._s(e.status?"Обработан":"Необработан"))]),t._v(" "),r("td",[r("a",{staticClass:"btn waves-effect waves-light purple darken-4 modal-trigger",attrs:{href:"#modal1"},on:{click:function(r){return r.preventDefault(),t.openOrder(e)}}},[r("i",{staticClass:"material-icons"},[t._v("loupe")])])])])})),0)])]):r("p",{staticClass:"center-align",staticStyle:{"font-size":"40px"}},[t._v("Заказы отсутствуют!")])],1)]),t._v(" "),r("modal-view-order",{attrs:{order:t.orderShow,"products-in-order":t.productsInOrder,total_sum:t.totalSumInOrder}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-title"},[e("h3",{staticClass:"center-align category"},[this._v("Мои Заказы")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col s12 l12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col s6"},[e("p",{staticClass:"category-create__text"},[e("i",{staticClass:"material-icons left"},[this._v("swap_vertical_circle")]),this._v(" Мои заказы\n                                    ")])])])])])])])}],!1,null,"200083e8",null);e.default=u.exports},38:function(t,e,r){var s=r(185);"string"==typeof s&&(s=[[t.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,a);s.locals&&(t.exports=s.locals)}}]);